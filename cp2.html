<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Land - Admin Panel</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .admin-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .login-form {
            max-width: 400px;
            margin: 50px auto;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        .login-form h2 {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .form-group input {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .admin-btn {
            width: 100%;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        
        .admin-btn:hover {
            background-color: #45a049;
        }
        
        .price-editor {
            display: none;
            margin-top: 30px;
        }
        
        .price-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .price-item-name {
            font-weight: 500;
        }
        
        .price-item input {
            width: 100px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
        
        .save-btn {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            background-color: #2196F3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        
        .save-btn:hover {
            background-color: #0b7dda;
        }
        
        .logout-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 8px 15px;
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="admin-container">
        <div id="loginSection" class="login-form">
            <h2>Admin Login</h2>
            <div class="form-group">
                <label for="username">Username</label>
                <input type="text" id="username" placeholder="Enter username">
            </div>
            <div class="form-group">
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="Enter password">
            </div>
            <button id="loginBtn" class="admin-btn">Login</button>
        </div>
        
        <div id="priceEditor" class="price-editor">
            <button id="logoutBtn" class="logout-btn">Logout</button>
            <h2>Menu Price Editor</h2>
            
            <div class="category-tabs">
                <button class="tab-btn active" data-category="starters">Starters</button>
                <button class="tab-btn" data-category="mains">Main Courses</button>
                <button class="tab-btn" data-category="desserts">Desserts</button>
                <button class="tab-btn" data-category="drinks">Drinks</button>
            </div>
            
            <div id="startersEditor" class="menu-editor active">
                <h3>Starters</h3>
                <!-- Items will be loaded here by JavaScript -->
            </div>
            
            <div id="mainsEditor" class="menu-editor">
                <h3>Main Courses</h3>
                <!-- Items will be loaded here by JavaScript -->
            </div>
            
            <div id="dessertsEditor" class="menu-editor">
                <h3>Desserts</h3>
                <!-- Items will be loaded here by JavaScript -->
            </div>
            
            <div id="drinksEditor" class="menu-editor">
                <h3>Drinks</h3>
                <!-- Items will be loaded here by JavaScript -->
            </div>
            
            <button id="savePricesBtn" class="save-btn">Save All Changes</button>
        </div>
    </div>

    <script>
        // Simple authentication (for demo purposes only - not secure for production)
        const ADMIN_CREDENTIALS = {
            username: "admin",
            password: "happyland123"
        };
        
        // DOM elements
        const loginSection = document.getElementById('loginSection');
        const priceEditor = document.getElementById('priceEditor');
        const loginBtn = document.getElementById('loginBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const savePricesBtn = document.getElementById('savePricesBtn');
        
        // Tab functionality
        const tabBtns = document.querySelectorAll('.tab-btn');
        const menuEditors = document.querySelectorAll('.menu-editor');
        
        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // Remove active class from all tabs and editors
                tabBtns.forEach(b => b.classList.remove('active'));
                menuEditors.forEach(editor => editor.classList.remove('active'));
                
                // Add active class to clicked tab and corresponding editor
                btn.classList.add('active');
                const category = btn.getAttribute('data-category');
                document.getElementById(`${category}Editor`).classList.add('active');
            });
        });
        
        // Login functionality
        loginBtn.addEventListener('click', () => {
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (username === ADMIN_CREDENTIALS.username && password === ADMIN_CREDENTIALS.password) {
                loginSection.style.display = 'none';
                priceEditor.style.display = 'block';
                loadMenuItems();
            } else {
                alert('Invalid credentials. Please try again.');
            }
        });
        
        // Logout functionality
        logoutBtn.addEventListener('click', () => {
            loginSection.style.display = 'block';
            priceEditor.style.display = 'none';
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        });
        
        // Load menu items from the main page
        function loadMenuItems() {
            fetch('index.html')
                .then(response => response.text())
                .then(html => {
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    
                    // Process each category
                    ['starters', 'mains', 'desserts', 'drinks'].forEach(category => {
                        const editor = document.getElementById(`${category}Editor`);
                        const items = doc.querySelectorAll(`#${category} .menu-item`);
                        
                        items.forEach((item, index) => {
                            const title = item.querySelector('.menu-item-title h3').textContent;
                            const price = item.querySelector('.menu-item-price').textContent;
                            
                            const priceItem = document.createElement('div');
                            priceItem.className = 'price-item';
                            priceItem.innerHTML = `
                                <div class="price-item-name">${title}</div>
                                <input type="text" class="price-input" value="${price}" 
                                       data-category="${category}" data-index="${index}">
                            `;
                            
                            editor.appendChild(priceItem);
                        });
                    });
                })
                .catch(error => {
                    console.error('Error loading menu items:', error);
                });
        }
        
        // Save prices functionality
        savePricesBtn.addEventListener('click', () => {
            const priceInputs = document.querySelectorAll('.price-input');
            const updates = [];
            
            priceInputs.forEach(input => {
                updates.push({
                    category: input.getAttribute('data-category'),
                    index: input.getAttribute('data-index'),
                    newPrice: input.value
                });
            });
            
            // In a real application, you would send this data to a server
            // For this demo, we'll just save to localStorage
            localStorage.setItem('priceUpdates', JSON.stringify(updates));
            alert('Price changes saved successfully!');
            
            // You would typically reload the menu page here or send updates to the server
        });
    </script>
</body>
</html>